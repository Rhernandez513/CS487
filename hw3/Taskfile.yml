version: '3'

tasks:
  build_stack:
    cmds:
      - gcc -DBUF_SIZE=100 -fno-stack-protector -z noexecstack -o stack stack.c
	    - sudo chown root stack
      - sudo chmod 4755 stack

  clean:
    cmds:
      - rm stack

  link_to_zsh:
    cmds:
      - sudo ln -sf /bin/zsh /bin/sh
  enable_aslr:
    desc: "Enable Address Space Layout Randomization (ASLR)"
    cmds:
      - "sudo sysctl -w kernel.randomize_va_space=2"
      - "cat /proc/sys/kernel/randomize_va_space"
